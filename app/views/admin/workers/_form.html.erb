<%= form_with(model: [:admin, worker]) do |form| %>
  <% if worker.errors.any? %>
  <%= tag.snm_message_bar "入力エラーがあります", level: "alert" %>
  <% end %>
  <% errors = worker.errors %>
  <%= render(Admin::SnmTextFieldComponent.new(form:, name: :name_kana, label: "姓名読み", errors:)) %>
  <%= render(Admin::SnmTextFieldComponent.new(form:, name: :sortkey, label: "ソート用読み", errors:)) %>
  <%= render(Admin::SnmTextFieldComponent.new(form:, name: :name, label: "姓名", errors:)) %>
  <%= form.fields_for :worker_secret do |secret_form| %>
  <%= render(Admin::SnmTextFieldComponent.new(form: secret_form, name: :email, label: "email", errors:, error_key: :'worker_secret.email')) %>
  <%= render(Admin::SnmTextFieldComponent.new(form: secret_form, name: :url, label: "URL", errors:)) %>
  <%= render(Admin::SnmTextFieldComponent.new(form: secret_form, name: :note, label: "備考(非公開)", errors:)) %>
  <% end %>
  <div class="mt-2 flex">
    <%= render(Admin::SubmitComponent.new(form:, name: "submit", value: "登録する")) %>
  </div>
<% end %>
